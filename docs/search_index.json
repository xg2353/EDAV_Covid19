[["results.html", "Chapter 5 Results", " Chapter 5 Results library(tidyverse) library(ggplot2) library(directlabels) #read in data sets confirmed &lt;- read.csv(&quot;data/time_series_covid19_confirmed_global.csv&quot;) recovered &lt;- read.csv(&quot;data/time_series_covid19_recovered_global.csv&quot;) deaths &lt;- read.csv(&quot;data/time_series_covid19_deaths_global.csv&quot;) #formats confirmed2 &lt;- confirmed %&gt;% pivot_longer(cols = !c(Province.State, Country.Region, Lat, Long), names_to = &quot;Dates&quot;, values_to = &quot;Confirmed&quot;) recovered2 &lt;- recovered %&gt;% pivot_longer(cols = !c(Province.State, Country.Region, Lat, Long), names_to = &quot;Dates&quot;, values_to = &quot;Recovered&quot;) deaths2 &lt;- deaths %&gt;% pivot_longer(cols = !c(Province.State, Country.Region, Lat, Long), names_to = &quot;Dates&quot;, values_to = &quot;Deaths&quot;) confirmed2$Dates &lt;- as.Date(confirmed2$Dates, format=&quot;X%m.%d.%y&quot;) recovered2$Dates &lt;- as.Date(recovered2$Dates, format=&quot;X%m.%d.%y&quot;) deaths2$Dates &lt;- as.Date(confirmed2$Dates, format=&quot;X%m.%d.%y&quot;) ggplot(confirmed2, aes(x = Dates, y = Confirmed, group = Country.Region, colour = Country.Region)) + geom_line() + scale_colour_discrete(guide = &#39;none&#39;) + geom_dl(aes(label = Country.Region), method=list(&quot;last.points&quot;, cex=.5)) ggplot(deaths2, aes(x = Dates, y = Deaths, group = Country.Region, colour = Country.Region)) + geom_line() + scale_colour_discrete(guide = &#39;none&#39;) + geom_dl(aes(label = Country.Region), method=list(&quot;last.points&quot;, cex=.5)) ggplot(recovered2, aes(x = Dates, y = Recovered, group = Country.Region, colour = Country.Region)) + geom_line() + scale_colour_discrete(guide = &#39;none&#39;) + geom_dl(aes(label = Country.Region), method=list(&quot;last.points&quot;, cex=.5)) merged &lt;- merge(confirmed2, deaths2, by = c(&quot;Country.Region&quot;,&quot;Dates&quot;)) merged$cases_per_death &lt;- merged$Confirmed / merged$Deaths is.na(merged$cases_per_death)&lt;-sapply(merged$cases_per_death, is.infinite) merged$cases_per_death[is.na(merged$cases_per_death)]&lt;-0 ggplot(merged, aes(x = Dates, y = cases_per_death, group = Country.Region, colour = Country.Region)) + geom_line() + scale_colour_discrete(guide = &#39;none&#39;) + geom_dl(aes(label = Country.Region), method=list(&quot;last.points&quot;, cex=.5)) "]]
